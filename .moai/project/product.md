# 상품 명세 (Product Specification)

## 프로젝트 개요

### 프로젝트명
AI English Tutor (AI 영어 튜터)

### 프로젝트 설명
AI 기반 한국어 교육 중심 영어 학습 튜터 웹 애플리케이션입니다. 사용자가 입력한 영어 텍스트나 사진을 분석하여 한국 중학생의 학습 수준에 맞는 읽기 훈련(슬래시 읽기), 구조 중심 문법 해설, 어원 네트워크 기반 어휘 학습을 제공합니다. 모든 설명은 한국어로 제공되며 한국 교육과정 기반의 교육학적 접근법을 사용합니다.

## 대상 사용자

**주요 대상:** 고등학교 영어 선행을 준비하는 중학교 학생
- 연령대: 13-15세
- 학력 수준: 중학교 영어 교육과정 이수자
- 목표: 고등학교 영어 입학 전 선행학습 및 실력 향상

**부수 대상:** 영어 학습에 관심 있는 일반 성인

## 핵심 기능

### 1. Supervisor 사전 분석 (LLM-Powered Pre-Analysis)
시스템이 Claude Haiku를 사용하여 다음의 사전 분석을 수행합니다:
- 입력 텍스트의 개별 문장으로 분리
- 각 문장의 난이도 5단계 평가
- 각 문장의 학습 포커스 추천
- 전체 지문 난이도 요약

이 분석 결과는 모든 튜터 에이전트에 전달되어 학생 수준에 맞는 설명을 생성하는 기반이 됩니다.

### 2. 텍스트 분석 (Korean Tutoring-Focused Analysis)
사용자가 직접 입력한 영어 텍스트를 분석하여 다음 세 가지 항목의 학습 자료를 생성합니다.

**읽기 훈련 (Slash Reading Training - 슬래시 직독직해)**
- 슬래시 읽기 끊기로 영어 구조 시각화
- 단위별 한국어 해석으로 영어 순서 유지
- 자연스러운 한국어 해석으로 의미 전달
- 읽기 지시로 핵심 동작 교정 (멈추면 안 되는 지점, 부가 정보 처리 방법 등)

**문법 분석 (Grammar Structure Understanding - 구조 중심)**
- 문법 포인트 설명 (중·고등학교 문법 용어 사용)
- 왜 이 구조를 썼는가에 대한 설명
- 한국어와의 구조 차이 비교
- 시험 포인트 및 함정 요약

**어휘 분석 (Etymology Network Learning - 어원 네트워크)**
- 기본 뜻: 간단 명확한 정의
- 문장 속 의미 작동 설명: 문맥에서의 의미 해석 원리
- 핵심 의미 이미지: 단어의 근본적 의미
- 어원 설명: PIE 어근부터 현재 의미까지의 발전 과정
- 같은 어원 파생 단어: 최소 3개의 연관 단어와 공통 이미지
- 기억 연결 팁: 어근 네트워크 방식의 기억법

### 3. 이미지 분석 (Image Analysis)
카메라로 촬영한 영어 텍스트 이미지를 업로드하여 텍스트 분석과 동일한 한국어 교육 학습 자료를 생성합니다.

- **OpenAI Vision API** (gpt-4o-mini)를 통한 OCR (광학 문자 인식)
- 이미지 내 영어 텍스트 자동 인식
- Tesseract 등 추가 OCR 도구 불필요
- 인쇄본, 필기본, 교과서 페이지 지원
- **처리 시간**: 25-35초 (SSE 하트비트로 연결 유지)
- **구현 특이사항**: Vercel maxDuration=60 필수, LangGraph TutorState에 image_data/mime_type 필드 필수

배포 중 발견된 4가지 버그 수정 이력: SPEC-IMAGE-001 참조

### 4. 이해도 단계별 설명 (5-Level Explanation System)
통합 슬라이더를 통해 5단계의 한국어 교육학적 설명 수준을 선택할 수 있습니다.

- **Level 1 (초급):** 가장 간단한 표현, 영어 용어 최소화, 쉬운 비유 중심
- **Level 2 (입문):** 기본 교육 용어, 구체적 한국어 예시, 쉬운 설명
- **Level 3 (기초):** 표준 교육 설명, 중등 문법 용어, 비교 설명 포함
- **Level 4 (중급):** 상세한 분석, 문법 용어 적극 사용, 시험 포인트 포함
- **Level 5 (고급):** 전문적 분석, 고급 문법 개념, 대학 수준 설명

### 5. 대화형 후속 질문 (Follow-up Questions)
학습 과정 중 추가 질문을 통해 심화 학습을 지원합니다.

- 이전 대화 이력 기반 후속 질문 답변
- 같은 텍스트의 다른 부분에 대한 질문 지원
- 관련 개념으로의 확장 학습
- 대화 컨텍스트 유지

### 6. 세션 관리 (Session Management)
사용자의 학습 이력과 진도를 관리합니다.

- 세션 기반 대화 이력 저장 (MVP 단계에서는 인증 미포함)
- 이전 분석 결과 조회
- 학습 진도 추적
- 설정값(이해도 단계) 저장

## 사용 사례 (Use Cases)

### 사용 사례 1: 교과서 문장 분석
**시나리오:** 중학교 학생이 교과서의 어려운 영어 문장을 이해하려고 합니다.

1. 학생이 문장을 텍스트로 입력하거나 사진으로 업로드합니다.
2. 시스템이 읽기 이해, 문법, 어휘 분석을 제공합니다.
3. 학생이 이해도 수준을 Level 2로 설정하여 초급자 친화적 설명을 받습니다.
4. "Why does the author use this phrase?" 질문으로 더 깊이 있는 분석을 얻습니다.

### 사용 사례 2: 시험 대비 학습
**시나리오:** 고등학교 입시를 준비하는 학생이 모의고사 지문을 학습합니다.

1. 모의고사 영어 지문을 사진으로 촬영하여 업로드합니다.
2. 시스템이 이미지에서 텍스트를 인식하여 자동 분석합니다.
3. 복잡한 문장 구조에 대해 Level 4 상세 문법 분석을 요청합니다.
4. "이 문장에서 주어와 동사는 무엇인가?" 질문으로 핵심 요소를 파악합니다.

### 사용 사례 3: 영어 읽기력 향상
**시나리오:** 읽기가 약한 학생이 점진적으로 읽기 능력을 개발합니다.

1. 매일 짧은 영어 문장이나 뉘앙스를 학습합니다.
2. Level 1에서 시작하여 점진적으로 Level 3-4로 높여갑니다.
3. 어휘 탭에서 새로운 단어와 표현을 학습합니다.
4. 후속 질문으로 학습한 개념의 실제 적용을 연습합니다.

## 비기능 요구사항

### 성능 (Performance)
- **응답 시간:** 일반적인 텍스트 분석 3초 이내 (SSE 스트리밍 포함)
- **이미지 처리:** OCR 포함 5초 이내
- **동시 사용자:** 최소 100명 동시 접속 지원
- **처리량:** 초당 50개 이상의 분석 요청 처리

### 확장성 (Scalability)
- **수평 확장:** Backend 서버 추가로 성능 선형 증가
- **데이터베이스:** 향후 확장을 고려한 세션 저장소 설계
- **캐싱:** 자주 사용되는 분석 결과 캐싱
- **청크 처리:** LangGraph로 대용량 텍스트 병렬 처리

### 신뢰성 (Reliability)
- **오류 복구:** API 오류 자동 재시도 로직
- **폴백:** 특정 LLM 서비스 장애 시 대체 모델 사용
- **로깅:** 모든 분석 요청 및 결과 로깅
- **모니터링:** 시스템 상태 및 에러율 모니터링

### 보안 (Security)
- **입력 검증:** 악의적 입력으로부터 보호
- **API 키 관리:** 환경 변수를 통한 보안 관리
- **HTTPS:** 모든 통신 암호화
- **속도 제한:** 무차별 대입 공격 방지

### 사용성 (Usability)
- **반응형 디자인:** 모바일, 태블릿, 데스크톱 지원
- **직관적 UI:** 중학생도 쉽게 사용할 수 있는 인터페이스
- **다크 모드:** 눈 피로 감소
- **접근성:** 키보드 네비게이션 지원

### 비용 효율성 (Cost Efficiency)
- **마이크로서비스:** 필요한 리소스만 사용
- **LLM 최적화:** 통일된 gpt-4o-mini 모델로 최고 비용 효율 달성
  - 모든 에이전트 (Supervisor, Reading, Grammar, Vocabulary): gpt-4o-mini
  - 월 1,000요청 기준: ~$7 (기존 ~$152에서 95% 절감)
  - GLM (Zhipu AI) 지원: 선택적으로 추가 비용 절감 가능 (향후 이미지 분석용)
- **배포 최적화:** Vercel 무료 플랜, Railway $5/월 수준

## 성공 지표 (Success Metrics)

### 학습 효과
- 사용자 만족도: 4.5/5 이상
- 학습 시간 단축: 기존 방식 대비 30% 이상 단축
- 이해도 개선: 사용 1개월 후 영어 실력 향상 체감도 80% 이상

### 기술 지표
- 시스템 가용성: 99% 이상
- 분석 정확도: 문법 오류 탐지 95% 이상
- 사용자 응답 시간: 90% 이상 3초 이내

### 비즈니스 지표
- 월간 활성 사용자: 1,000명 이상
- 일일 분석 요청: 5,000건 이상
- 사용자 재방문율: 60% 이상
