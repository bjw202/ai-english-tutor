---
id: SPEC-UI-001
title: Mobile-First UI/UX Improvement - Acceptance Criteria
version: 1.0.0
status: draft
created: 2026-02-21
updated: 2026-02-21
author: jw
priority: high
related_spec: SPEC-UI-001/spec.md
---

# SPEC-UI-001: 인수 기준서

## 1. 반응형 레이아웃 감지 (REQ-UI-001)

### ACC-UI-001: 모바일 뷰포트에서 모바일 레이아웃 렌더링

```gherkin
Given 사용자가 뷰포트 너비 375px의 모바일 디바이스로 접속했을 때
When 페이지가 로드되면
Then 하단 탭 내비게이션이 표시되어야 한다
And 2-column 데스크톱 레이아웃은 표시되지 않아야 한다
And 하단 탭에 "카메라/업로드" 탭과 "분석" 탭이 존재해야 한다
```

### ACC-UI-001-2: 데스크톱 뷰포트에서 데스크톱 레이아웃 렌더링

```gherkin
Given 사용자가 뷰포트 너비 1440px의 데스크톱 브라우저로 접속했을 때
When 페이지가 로드되면
Then 기존 2-column 레이아웃이 표시되어야 한다
And 하단 탭 내비게이션은 표시되지 않아야 한다
And 왼쪽에 채팅 영역, 오른쪽에 분석 결과 영역이 보여야 한다
```

### ACC-UI-001-3: 뷰포트 리사이즈 시 레이아웃 전환

```gherkin
Given 데스크톱 레이아웃이 표시된 상태에서
When 사용자가 브라우저 창을 1024px 미만으로 줄이면
Then 모바일 레이아웃으로 자동 전환되어야 한다
And 분석 결과 데이터가 유실되지 않아야 한다
```

---

## 2. 모바일 하단 탭 내비게이션 (REQ-UI-002)

### ACC-UI-002: 하단 탭 내비게이션 동작

```gherkin
Given 모바일 레이아웃이 표시된 상태에서
When 사용자가 "분석" 탭을 터치하면
Then 분석 결과 화면(TabbedOutput)이 전체 화면으로 표시되어야 한다
And 카메라/업로드 화면은 숨겨져야 한다
And 활성 탭이 시각적으로 강조 표시되어야 한다
```

### ACC-UI-002-2: 초기 탭 상태

```gherkin
Given 모바일 사용자가 앱에 처음 접속했을 때
When 모바일 레이아웃이 렌더링되면
Then "카메라/업로드" 탭이 기본 활성 탭이어야 한다
And 카메라 촬영 버튼과 갤러리 선택 버튼이 표시되어야 한다
```

### ACC-UI-002-3: 모바일에서 채팅 히스토리 숨김

```gherkin
Given 모바일 레이아웃이 표시된 상태에서
When 어떤 탭을 보더라도
Then 채팅 메시지 히스토리 목록은 표시되지 않아야 한다
```

---

## 3. 카메라 촬영 (REQ-UI-003)

### ACC-UI-003: 모바일에서 카메라 촬영

```gherkin
Given 모바일 사용자가 "카메라/업로드" 탭에 있을 때
When "카메라 촬영" 버튼을 터치하면
Then 디바이스의 카메라 앱이 실행되어야 한다
And 촬영 완료 후 이미지 프리뷰가 표시되어야 한다
And 이미지 파일이 분석을 위해 제출되어야 한다
```

### ACC-UI-003-2: 카메라 촬영 이미지 유효성 검증

```gherkin
Given 모바일 사용자가 카메라로 이미지를 촬영했을 때
When 촬영된 파일 크기가 10MB를 초과하면
Then 오류 토스트 메시지가 표시되어야 한다
And 이미지가 제출되지 않아야 한다
```

---

## 4. 파일 선택 업로드 (REQ-UI-004)

### ACC-UI-004: 모바일에서 갤러리 선택

```gherkin
Given 모바일 사용자가 "카메라/업로드" 탭에 있을 때
When "사진 선택" 버튼을 터치하면
Then 디바이스의 사진 라이브러리/파일 선택기가 열려야 한다
And 이미지 파일만 선택 가능해야 한다 (accept="image/*")
And 선택 완료 후 이미지 프리뷰가 표시되어야 한다
```

### ACC-UI-004-2: 데스크톱에서 Drag & Drop 업로드

```gherkin
Given 데스크톱 사용자가 앱을 사용 중일 때
When 이미지 파일을 업로드 영역으로 드래그 앤 드롭하면
Then 드래그 중 시각적 피드백(테두리 강조)이 표시되어야 한다
And 드롭 후 이미지 프리뷰가 표시되어야 한다
And 이미지가 분석을 위해 제출되어야 한다
```

### ACC-UI-004-3: 데스크톱에서 파일 선택 업로드

```gherkin
Given 데스크톱 사용자가 앱을 사용 중일 때
When "Select Image" 버튼을 클릭하면
Then 파일 탐색기가 열려야 한다
And 이미지 파일을 선택하면 프리뷰가 표시되어야 한다
```

---

## 5. 자동 탭 전환 (REQ-UI-005)

### ACC-UI-005: 이미지 업로드 후 분석 탭 자동 전환

```gherkin
Given 모바일 사용자가 "카메라/업로드" 탭에서 이미지를 촬영/선택했을 때
When 이미지 선택이 완료되면
Then 즉시 "분석" 탭으로 자동 전환되어야 한다
And 분석 탭에서 로딩 상태가 표시되어야 한다
And 분석이 완료되면 결과가 표시되어야 한다
```

### ACC-UI-005-2: 자동 전환 후 수동 복귀

```gherkin
Given 이미지 업로드로 인해 분석 탭으로 자동 전환된 상태에서
When 사용자가 "카메라/업로드" 탭을 터치하면
Then 카메라/업로드 화면으로 돌아갈 수 있어야 한다
And 이전에 촬영/선택한 이미지의 프리뷰가 유지되어야 한다
```

### ACC-UI-005-3: 텍스트 입력 후 분석 탭 자동 전환

```gherkin
Given 모바일 사용자가 "카메라/업로드" 탭에서 텍스트를 입력했을 때
When 분석 요청을 제출하면
Then 즉시 "분석" 탭으로 자동 전환되어야 한다
And 분석 탭에서 스트리밍 결과가 실시간으로 표시되어야 한다
```

---

## 6. 데스크톱 레이아웃 유지 (REQ-UI-006)

### ACC-UI-006: 데스크톱 기존 기능 회귀 테스트

```gherkin
Given 데스크톱 브라우저(1024px 이상)에서 앱을 사용할 때
When 텍스트를 입력하고 분석을 요청하면
Then 왼쪽 컬럼에서 채팅 메시지가 표시되어야 한다
And 오른쪽 컬럼에서 Reading/Grammar/Vocabulary 탭 결과가 표시되어야 한다
And SSE 스트리밍이 정상적으로 동작해야 한다
And LevelSlider가 정상적으로 동작해야 한다
```

### ACC-UI-006-2: 데스크톱 이미지 업로드 회귀 테스트

```gherkin
Given 데스크톱 브라우저에서 앱을 사용할 때
When 이미지를 Drag & Drop 또는 파일 선택으로 업로드하면
Then 이미지 프리뷰가 표시되어야 한다
And 이미지 분석 결과가 오른쪽 컬럼에 표시되어야 한다
And 기존과 동일한 동작을 유지해야 한다
```

---

## 7. Hydration 안전성 (REQ-UI-008)

### ACC-UI-007: SSR Hydration 불일치 없음

```gherkin
Given Next.js 개발 서버가 실행 중일 때
When 페이지를 새로고침하면
Then 브라우저 콘솔에 hydration mismatch 경고가 표시되지 않아야 한다
And 페이지 로드 시 잠깐의 로딩 상태 후 올바른 레이아웃이 표시되어야 한다
```

### ACC-UI-007-2: 초기 로딩 상태

```gherkin
Given SSR로 페이지가 렌더링될 때
When useMediaQuery가 아직 null을 반환하는 동안
Then 로딩 skeleton 또는 중립적인 UI가 표시되어야 한다
And 레이아웃 깜빡임(flash)이 최소화되어야 한다
```

---

## 8. LevelSlider Compact (REQ-UI-007)

### ACC-UI-008: 모바일에서 LevelSlider compact 모드

```gherkin
Given 모바일 레이아웃의 "카메라/업로드" 탭에서
When LevelSlider가 렌더링되면
Then 슬라이더가 한 줄 인라인 형태로 표시되어야 한다
And 세부 단계 라벨(기초/초급/중급/고급/심화)은 숨겨져야 한다
And 현재 레벨 값이 표시되어야 한다
And 슬라이더 조작으로 레벨 변경이 가능해야 한다
```

### ACC-UI-008-2: 데스크톱에서 LevelSlider 기본 모드 유지

```gherkin
Given 데스크톱 레이아웃에서
When LevelSlider가 렌더링되면
Then 기존과 동일한 전체 너비 슬라이더가 표시되어야 한다
And 5단계 라벨(기초/초급/중급/고급/심화)이 표시되어야 한다
```

---

## 9. 접근성 (REQ-UI-009)

### ACC-UI-009: 하단 탭 접근성

```gherkin
Given 모바일 레이아웃이 표시된 상태에서
When 스크린 리더가 하단 탭을 읽으면
Then 탭 목록에 role="tablist" 속성이 적용되어 있어야 한다
And 각 탭에 role="tab" 및 aria-selected 속성이 적용되어 있어야 한다
And 활성 탭에 aria-selected="true"가 설정되어야 한다
```

### ACC-UI-009-2: 터치 타겟 크기

```gherkin
Given 모바일 레이아웃에서
When 카메라 촬영 버튼과 갤러리 선택 버튼이 렌더링되면
Then 각 버튼의 터치 타겟 크기가 최소 44x44px 이상이어야 한다
And 버튼 간 간격이 충분해야 한다 (실수 터치 방지)
```

---

## 10. Edge Case 시나리오

### ACC-UI-010: 분석 중 새 이미지 업로드

```gherkin
Given 모바일에서 이미지 분석이 진행 중일 때
When 사용자가 "카메라/업로드" 탭으로 돌아가 새 이미지를 촬영하면
Then 기존 분석 스트리밍이 중단(abort)되어야 한다
And 새 이미지로 프리뷰가 교체되어야 한다
And 새 분석이 시작되어야 한다
And 분석 탭으로 자동 전환되어야 한다
```

### ACC-UI-010-2: 네트워크 오류 시 동작

```gherkin
Given 모바일에서 이미지를 업로드하여 분석을 시작했을 때
When 네트워크 오류가 발생하면
Then 분석 탭에서 오류 메시지가 표시되어야 한다
And 사용자가 재시도할 수 있는 방법이 안내되어야 한다
```

### ACC-UI-010-3: 이미지 없이 텍스트만 분석 (모바일)

```gherkin
Given 모바일 사용자가 "카메라/업로드" 탭에 있을 때
When 이미지 없이 텍스트만 입력하고 제출하면
Then 분석 탭으로 자동 전환되어야 한다
And 텍스트 분석 결과가 정상적으로 표시되어야 한다
```

---

## 11. 성능 기준

| 항목 | 기준 | 측정 방법 |
|------|------|-----------|
| 레이아웃 전환 시간 | < 100ms | 뷰포트 리사이즈 후 레이아웃 변경까지 시간 측정 |
| 카메라 실행 시간 | 디바이스 기본 동작 | OS 카메라 앱 실행 시간 (앱 제어 범위 밖) |
| 이미지 프리뷰 표시 | < 500ms | 파일 선택 후 프리뷰 렌더링까지 시간 |
| 탭 전환 시간 | < 50ms | 탭 터치 후 컨텐츠 전환까지 시간 |
| 초기 로딩 (모바일) | < 3초 | FCP (First Contentful Paint) |
| 번들 크기 증가 | < 5KB gzip | 신규 컴포넌트로 인한 추가 번들 크기 |

---

## 12. Definition of Done

- [ ] 모든 ACC-UI 시나리오 통과
- [ ] iOS Safari 16+ 에서 카메라 촬영 정상 동작
- [ ] Android Chrome 100+ 에서 카메라 촬영 정상 동작
- [ ] 데스크톱 Chrome/Firefox/Safari 에서 기존 기능 회귀 없음
- [ ] Next.js 개발 모드에서 hydration warning 없음
- [ ] 하단 탭에 ARIA 접근성 속성 적용
- [ ] 최소 터치 타겟 44x44px 충족
- [ ] TypeScript 컴파일 오류 없음
- [ ] Lint 경고 없음
